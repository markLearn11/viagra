<!--pages/my-profile/my-profile.wxml-->
<view class="page">
  <!-- 自定义导航栏 -->
  <navbar title="" show-back-arrow="{{true}}" bind:leftIconTap="goBack" bind:rightIconTap="onRightIconTap"></navbar>
  
  <view class="container">
    <!-- 用户信息区域 -->
    <view class="user-info">
      <view class="avatar">
        <image src="{{userInfo.avatar}}" mode="aspectFill"></image>
      </view>
      <view class="user-details">
        <view class="name-tags">
          <text class="name">{{userInfo.name}}</text>
          <view class="tags">
            <view class="tag" wx:for="{{userInfo.tags}}" wx:key="*this" style="background-color: {{item.color}};">{{item.text}}</view>
          </view>
          <view class="crown">👑</view>
        </view>
        <view class="stats">
          <view class="stat-item">
            <text class="stat-number">{{userInfo.stats.days}}</text>
            <text class="stat-label">天数</text>
          </view>
          <view class="stat-item">
            <text class="stat-number">{{userInfo.stats.plans}}</text>
            <text class="stat-label">计划</text>
          </view>
          <view class="stat-item">
            <text class="stat-number">{{userInfo.stats.achievements}}</text>
            <text class="stat-label">达成</text>
          </view>
        </view>
      </view>
    </view>
    
    <!-- 功能区域 -->
    <view class="function-section">
      <view class="function-item" bindtap="onFunctionTap" data-type="reconcile">
        <view class="function-icon-wrapper">
          <text class="function-emoji">🤝</text>
        </view>
        <text class="function-text">我与自己的和解</text>
      </view>
      <view class="function-item" bindtap="onFunctionTap" data-type="plan">
        <view class="function-icon-wrapper calendar">
          <text class="function-emoji">📅</text>
        </view>
        <text class="function-text">我的和解计划</text>
      </view>
    </view>

    <!-- 其他功能 -->
    <view class="other-container">
        <view class="section-title">其他</view>
        <view class="other-item" bindtap="onOtherTap" data-type="mbti">
          <image class="other-icon" src="/static/images/mbti-icon.svg"></image>
          <view class="other-content">
            <text class="other-title">MBTI 性格测试</text>
            <text class="other-desc">AI 将会根据你的性格来进行对话</text>
          </view>
        </view>
        <view class="other-item" bindtap="onOtherTap" data-type="treehole">
          <image class="other-icon" src="/static/images/tree-hole-icon.svg"></image>
          <view class="other-content">
            <text class="other-title">我的树洞</text>
            <text class="other-desc">将心底的秘密分享给树洞</text>
          </view>
        </view>
        <view class="other-item" bindtap="onOtherTap" data-type="character">
          <image class="other-icon" src="/static/images/character-icon.svg"></image>
          <view class="other-content">
            <text class="other-title">角色</text>
            <text class="other-desc">为你量身定制的角色</text>
          </view>
        </view>
      </view>
  </view>
</view>
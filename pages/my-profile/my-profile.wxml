<!-- pages/my-profile/my-profile.wxml -->
<view class="page">
  <!-- 自定义导航栏 -->
  <navbar title="" show-back-arrow="{{true}}" right-icon="/static/images/login-menu.svg" bind:leftIconTap="goBack" bind:rightIconTap="onRightIconTap"></navbar>
  <view class="container">
    <view class="profile-header">
      <view class="profile-avatar">
        <image src="/static/images/avatar.svg" mode="aspectFill"></image>
      </view>
      <view class="profile-info">
        <button class="profile-name" open-type="getPhoneNumber" bindgetphonenumber="getPhoneNumber">未登录</button>
        <view class="profile-data">
          <view class="profile-data-item">
            <text>0</text>
            关系人
          </view>
          <view class="profile-data-item">
            <text>0</text>
            达成
          </view>
        </view>
      </view>
    </view>
    <view class="profile-card">
      <view class="profile-card-item">
        <view class="profile-card-data">
          <text>0</text>
          点
        </view>
        <view class="profile-card-name">星光</view>
      </view>
      <view class="profile-card-item">
        <view class="profile-card-data">
          <text>0</text>
          张
        </view>
        <view class="profile-card-name">优惠券</view>
      </view>
      <view class="profile-card-item">
        <view class="profile-card-data">
          <text>0</text>
          钻
        </view>
        <view class="profile-card-name">星钻充值</view>
      </view>
    </view>
    <view class="profile-content">
      <view class="profile-content-item" bindtap="goToPlan">
        <image src="/static/images/plan.svg" />
        <text>我的计划</text>
      </view>
      <view class="profile-content-item">
        <image src="/static/images/activity.svg" />
        <text>活动中心</text>
      </view>
    </view>
    <view class="other-content">
      <view class="other-title">其他</view>
      <view class="other-item" bindtap="onOtherTap" data-type="mbti">
        <image class="other-icon" src="/static/images/mbti-icon.svg"></image>
        <view class="other-text">
          <text class="other-title">MBTI 性格测试</text>
          <text class="other-desc">AI 将会根据你的性格来进行对话</text>
        </view>
      </view>
      <view class="other-item" bindtap="onOtherTap" data-type="treehole">
        <image class="other-icon" src="/static/images/tree-hole-icon.svg"></image>
        <view class="other-text">
          <text class="other-title">我的树洞</text>
          <text class="other-desc">将心底的秘密分享给树洞</text>
        </view>
      </view>
      <view class="other-item" bindtap="onOtherTap" data-type="character">
        <image class="other-icon" src="/static/images/character-icon.svg"></image>
        <view class="other-text">
          <text class="other-title">角色</text>
          <text class="other-desc">为你量身定制的角色</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 隐私条款弹窗 -->
  <view class="privacy-modal" wx:if="{{showPrivacyModal}}">
    <view class="privacy-mask" bindtap="disagreePrivacy"></view>
    <view class="privacy-content">
      <view class="privacy-header">
        <text class="privacy-title">用户隐私保护提示</text>
      </view>
      <view class="privacy-body">
        <text class="privacy-text">欢迎使用栖溯光屿小程序，请您在使用前点击并仔细阅读 <text style="color: #6366f1;" bindtap="openPrivacyPolicy">《栖溯光屿隐私保护指引》</text></text>
        <text class="privacy-text"><text style="color: #6366f1;" bindtap="openUserAgreement">《栖溯光屿用户协议》</text> 如您同意全部内容，请点击"同意"开始使用我们的服务</text>
      </view>
      <view class="privacy-footer">
        <button class="privacy-btn privacy-btn-cancel" bindtap="disagreePrivacy">不同意</button>
        <button class="privacy-btn privacy-btn-confirm" bindtap="agreePrivacy">同意</button>
      </view>
    </view>
  </view>
</view>
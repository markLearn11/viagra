<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header">
    <view class="back-btn" bindtap="onBack">
      <text class="back-icon">â€¹</text>
    </view>
    <view class="header-title">æ¯æ—¥ç–—æ„ˆè®¡åˆ’</view>
    <view class="placeholder"></view>
  </view>

  <!-- è®¡åˆ’æ ‡é¢˜ -->
  <view class="plan-header">
    <view class="plan-title">è®¡åˆ’1ï¼š{{planName}}</view>
    <view class="today-plan-btn" bindtap="onViewTodayPlan">
      <text class="btn-icon">ğŸ“…</text>
      <text class="btn-text">æŸ¥çœ‹ä»Šæ—¥è®¡åˆ’</text>
    </view>
  </view>

  <!-- æ²»ç–—è®¡åˆ’å†…å®¹ -->
  <view class="plan-content">
    <!-- åŠ è½½çŠ¶æ€ -->
    <view wx:if="{{isLoading}}" class="loading-container">
      <view class="loading-spinner"></view>
      <text class="loading-text">{{streamingContent}}</text>
    </view>
    
    <!-- æµå¼å†…å®¹æ˜¾ç¤º -->
    <view wx:elif="{{streamingContent}}" class="streaming-container">
      <text class="plan-text streaming">{{streamingContent}}</text>
    </view>
    
    <!-- æœ€ç»ˆå†…å®¹æ˜¾ç¤º -->
    <view wx:elif="{{treatmentPlan}}" class="treatment-plan-display">
      <!-- æ˜¾ç¤ºæ–‡æœ¬æ ¼å¼çš„æ²»ç–—è®¡åˆ’ -->
      <view class="text-plan">
        <text class="plan-text">{{treatmentPlan}}</text>
      </view>
    </view>
    
    <view wx:else class="no-plan">
      <text class="no-plan-text">æš‚æ— æ²»ç–—è®¡åˆ’å†…å®¹</text>
    </view>
  </view>
</view>